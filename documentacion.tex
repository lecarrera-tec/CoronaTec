\documentclass[12pt]{article}

\usepackage[scale=0.85]{geometry}
\usepackage{amsthm}
\usepackage[spanish]{babel}

\theoremstyle{definition}
\newtheorem{funcion}{}[section]

\title{Prueba de Preguntas Parametrizadas}
\author{Luis Ernesto Carrera Retana}

\begin{document}

\maketitle

\section{Información general}

Este proyecto consta de los siguientes programas:
\begin{itemize}
  \item \verb|generar| Esta es la función que genera las pruebas. Requiere dos archivos como argumentos: el primero es el archivo \verb|ppp| donde se guarda la información general de la prueba, y el segundo el archivo con la lista de los estudiantes (descargado del tec digital y convertido a CVS).

  \item \verb|evaluar| Esta es la función que realiza la evaluación. Requiere el archivo \verb|ppp|, el archivo con la lista de los estudiantes (descargado del tec digital y convertido a CVS), y el archivo de las respuestas descargado de Google Forms como CVS.

  \item \verb|vista_previa| Esta función recibe como argumento la dirección del archivo de una pregunta, y de manera opcional el número de ejemplos por generar, para generar un pdf de la pregunta. Esto permite revisar que la pregunta esté bien definida, y ver si genera los resultados esperados.
\end{itemize}

\subsection{Modificando el \LaTeX}

\section{Estructura del archivo general}
\begin{verbatim}
<Curso>
Matemática General

<Titulo>
II Examen Parcial

<Encabezado>
# Estas líneas se agregan al encabezado del archivo latex.

<Instrucciones>
Este es un examen ...

<Seccion[, orden = aleatorio]>
  <Titulo>

  <Instrucciones>

  <Preguntas>
  [<pts>,]<relative path preg 1>
  [<pts>,]<relative path preg 2>
  ...

<Fin>
\end{verbatim}

\begin{itemize}
  \item Tanto el nombre del curso como el título suponemos que es solamente una línea de texto debajo de la etiqueta respectiva.
  \item Las instrucciones pueden abarcar varios renglones e incluir líneas en blanco, para que \LaTeX\ separe los párrafos. 
  \item En las instrucciones \emph{no} se deben incluir comentarios.
  \item En las instrucciones \emph{no} debe aparecer el símbolo de abrir etiquetas (ver \verb|info.abrir|).
  \item No debe haber espacios en blanco entre las direcciones de las preguntas, pero sí se permiten comentarios.
  \item La dirección puede ser un archivo con extensión \verb|.preg| o una carpeta.
  \item Si la dirección es una carpeta, entonces el puntaje para cualquiera de las preguntas es el mismo, y se toma de acá. Si el puntaje no aparece, entonces es 1~pt por default. En el caso de una sola pregunta, el puntaje puede ser modificado por la pregunta que se llama. Para el caso de múltiples preguntas, el puntaje se mantiene en 1 o el definido acá.
  \item Las preguntas finalizan con una línea en blanco o con el final del archivo.
\end{itemize}

\section{Estructura del archivo para cada pregunta}

\begin{verbatim}
<tipo = <tipo>[, <opciones> = {lista}>

<variables>
<definiciones>

<pregunta>
<texto>

<item = <resp>>
<item>

<item = <resp>] 
<item>

\end{verbatim}

Los tipos para las preguntas son:
\begin{itemize}
  \item \verb|seleccion unica, random|
  \item \verb|seleccion unica, sort|
  \item \verb|respuesta corta, simple|
  \item \verb|respuesta corta, compuesta|
\end{itemize}

\subsection{Selecci\'on \'unica}
Las opciones para selecci\'on \'unica son las siguientes:
\begin{itemize}
  \item \verb|<tipo = seleccion unica, orden = aleatorio>|
  \item \verb|<tipo = seleccion unica, orden = creciente>|
  \item \verb|<tipo = seleccion unica, orden = fijo>|
  \item \verb|<tipo = seleccion unica, orden = indice>|
\end{itemize}

\subsection{Respuesta corta}

Tiene dos posibilidades principales.

\subsection{Entero}

\noindent \verb|<tipo = respuesta corta[, opcion = entero]>|
Se puede especificar que la respuesta es de tipo entero, pero si no se especifica nada, de tipo entero es la opción predeterminada para los tipos de respuesta corta.


\section{Funciones}

\subsection{random}
\noindent \verb|import random|

\subsubsection{Enteros}

\begin{funcion}
  \verb|seed(a=<int>)| \\[1ex]
  Inicializa el generador de números aleatorios.
\end{funcion}

\begin{funcion}
  \verb|randrange(stop)| \\
  \verb|randrange(start, stop[, step])| \\[1ex]
  Un elemento \verb|n| seleccionado al azar tal que \verb|start<=n<stop|.
\end{funcion}

\begin{funcion}
  \verb|randint(a,b)| \\[1ex]
  Un elemento \verb|n| seleccionado al azar tal que \verb|a<=n<=b|.
\end{funcion}

\begin{funcion}
  \verb|choice(<seq>)| \\[1ex]
  Un elemento \verb|n| seleccionado al azar de la sucesión no vacía \verb|seq|.
\end{funcion}

\begin{funcion}
  \verb|shuffle(<seq>)| \\[1ex]
  Reordena \emph{in situ} la sucesión \verb|seq|.
\end{funcion}

\begin{funcion}
  \verb|sample(<list>, k)| \\[1ex]
  Toma una muestra de tamaño \verb|k| de la lista \verb|list|. \verb|k| debe ser menor o igual al tamaño de la lista. La muestra no está ordenada con respecto a la lista.
\end{funcion}

\subsubsection{Punto flotante}

\begin{funcion}
  \verb|random()| \\[1ex]
  Genera un número aleatorio con distribución uniforme en el intervalo $[0, 1)$.
\end{funcion}

\begin{funcion}
  \verb|uniform(a, b)| \\[1ex]
  Un elemento \verb|x| que sigue una distribución uniforme tal que \verb|a<=x<=b|.
\end{funcion}

\begin{funcion}
  \verb|gauss(mu, sigma)| \\[1ex]
  Un elemento \verb|x| que sigue una distribución gaussiana con media \verb|mu| y desviación estándar \verb|sigma|.
\end{funcion}


\section{¿Cómo construir una sucesión?}

Las sucesiones se definen mediante una de las siguientes formas:
\begin{itemize}
  \item \verb|range(<stop>)|
  \item \verb|range(<start>, <stop>)|
  \item \verb|range(<start>, <stop>, <step>)|
\end{itemize}

En el caso de un solo argumento, entonces la sucesión comienza en 0 y termina en \verb|stop - 1|. Si tiene dos argumentos, entonces comienza en \verb|start| y finaliza en \verb|stop-1|. Con tres argumentos la función \verb|range| define la sucesión \verb|start|, \verb|start + step|, \verb|start + 2*step|, \dots, \verb|start + k*step|, donde \verb|start + k*step < stop <= start + (k+1)*step|.

\begin{enumerate}
  \item Si la sucesión está dada por los $j$ elementos $0, 1, 2, \dots, j - 1$, se construye con \verb|xs = range(j)|.
  \item Si la sucesión está dada por los $j$ elementos: $i, i+1, i+2, \dots, i + j - 1$, se construye con \verb|xs = range(i, i+j)|.
  \item Para una sucesión aritmética de $k$ elementos $i, i + d, i + 2d, \dots, i + (k-1)d$, se construye con \verb|xs = range(i, j, d)|, donde $i + (k-1)d < j \leq i + kd$.
  \item Para concatenar dos sucesiones:\\[1ex]
    \verb|xs = [*range(<start>,<stop>[,<step>]), *range(<start>,<stop>[,<step>]]|.
\end{enumerate}

Si lo que se quiere es tomar un elemento aleatorio de la sucesión simple, entonces mejor utilizar las funciones \verb|randrange| o \verb|randint|. Para el caso en que se concatenan dos sucesiones, entonces utilizar \verb|choice|.


\section{Pregunta}

\subsection{Tipos de pregunta}
\begin{itemize}
  \item \verb|seleccion unica|

    Varias opciones, indicadas por \verb|<item>|. Al finalizar las opciones, entonces en la etiqueta  \verb|<resp>| aparece el índice de la respuesta correcta. Si no viene la respuesta correcta, entonces se asume que el primer item es el correcto.

    Para saber cómo ordenar, entonces se puede agregar a la etiqueta de \\[1ex]
    \verb|<tipo = seleccion unica, opciones = <opc>>|, donde para \verb|<opc>| se tienen:
    \begin{description}
      \item [\texttt{fijas}:]   Mantiene el orden dado por el usuario.
      \item [\texttt{indices}:] Cada \verb|<item>| trae el índice que le corresponde.
      \item [\texttt{ordenar}:] Ordena las opciones de menor a mayor.
      \item [\texttt{random}:]  Ordena las opciones de forma aleatoria.
    \end{description}
\end{itemize}

\end{document}
